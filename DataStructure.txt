//file  function
#include<stdio.h>
void main()
{
   FILE *fp;
   char ch;
   clrscr();

   //writing data into file
   fp=fopen("test.txt","w");
   while((ch=getchar())!=EOF)
   {
      //printf("write");
      putc(ch,fp);
      //printf("%c",ch);
   }
   fclose(fp);

   //reading data into file
   fp=fopen("C://TURBOC3//BIN//TEST.TXT","r");
   /*while((ch=getc(fp))!=EOF)
     {
       fscanf(fp,"%s",&ch);
       printf("%s",&ch);
     }*/
    /*while(fscanf(fp,"%s",&ch)!=EOF)
     {

       printf("%s",&ch);
     }*/
   while((ch=getc(fp))!=EOF)
     {
       putc(ch,fp);
       printf("%c",ch);
     }
   fclose(fp);
   getch();
}

//other ways
#include<stdio.h>
#include<stdlib.h>
void main()
{
  FILE *fp;
  char ch;
  clrscr();

  //write
  fp=fopen("test.txt","w");
  fprintf(fp,"hello");
  if(fp==NULL)
  {
    printf("file not found");
  }
  //exit(1);
  fclose(fp);

  //read
  fp=fopen("test.txt","r");
  fscanf(fp,"%s",&ch);
  printf("%s",&ch);
  fclose(fp);
  getch();
}
//to enter n values
#include<stdio.h>
void main()
{
   FILE *fp;
   char name[20];
   char comb[10];
   int regNo,i,n;
   clrscr();

   //writing data into file
   printf("Enter the values\n");
   scanf("%d",&n);
   fp=fopen("test.txt","w");

   for(i=0;i<=n;i++)
   {
      printf("Enter the student details\n");
      scanf("%s %d %s",name,&regNo,comb);
      fprintf(fp,"%s %d %s",name,regNo,comb);
   }
   fclose(fp);

   //reading data into file
   fp=fopen("C:\\TURBOC3\\BIN\\TEST.TXT","r");
   printf("reading the file\n");
   /*for(i=0;i<=n;i++)
   {
     fscanf(fp,"%s %d %s",name,&regNo,comb);
     printf("name=%s Reg=%d comb=%s\n",name,regNo,comb);
   }*/
   while(fscanf(fp,"%s %d %s",name,&regNo,comb)!=EOF)
   {
      printf("name=%s Reg=%d comb=%s\n",name,regNo,comb);
   }
   fclose(fp);
   getch();

}

//copy the data from one file to another file
#include<stdio.h>
int main()
{
      int ch;
      FILE *fp,*fq;
      fp=fopen("source.txt","r");	
      fq=fopen("backup.txt","w");   
      if(fp==NULL||fq==NULL)
            printf("File does not exist..");
      else
            while((ch=fgetc(fp))!=EOF)
            {
                  fputc(ch,fq);
            }
      printf("File copied.....");
      return 0;
}

//file function using even and odd
#include<stdio.h>
void main()
{
FILE *fp1,*fp2,*fp3;
int num=0;
clrscr();
printf("Enter the numeric content");
fp1=fopen("data.txt","w");
while(num!=-1)
{
  scanf("%d",&num);
  putw(num,fp1);
}
fclose(fp1);
fp1=fopen("C:\TURBOC3\BIN\NUM.TXT","r");
//fp1=fopen("data.txt","r");
fp2=fopen("even.txt","w");
fp3=fopen("odd.txt","w");
while((num=getw(fp1))!=EOF)
{
  if(num%2==0)
   putw(num,fp2);
  else
   putw(num,fp3);
}
  printf("The even number are:\n");
  fp2=fopen("even.txt","r");
  //fp2=fopen("even.txt","r");
  while((num=getw(fp2))!=EOF)
   printf("%d",num);
  fclose(fp2);
  printf("The odd number are:\n");
  fp3=fopen("C:\TURBOC3\BIN\ODD.TXT","r");
  //fp3=fopen("odd.txt","r");
  while((num=getw(fp3))!=EOF)
   printf("%d",num);
  fclose(fp3);
  getch();
}

//file function using structure and pwrite fuction
#include<stdio.h>
struct employee
{
  int empId;
  char name[30];
  float sal;
}emp;

void main()
{
  FILE *fp;
  char ch;
  clrscr();
  fp=fopen("bin.dat","wb");
  printf("Do you want to enter employee details y/n \n");
  ch=getchar();

  while((ch=='Y')||(ch=='y'))
  {
    printf("Enter employee details\n");
    scanf("%d %s %f",&emp.empId,emp.name,&emp.sal);
    fwrite(&emp,sizeof(emp),1,fp);
    printf("Do you want to enter again");
    ch=getchar();
  }
  fclose(fp);
  getch();
}

